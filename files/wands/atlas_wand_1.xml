<Entity tags="wand">
    <Base file="data/entities/base_item.xml" >
        <ItemComponent
            item_name="atlas_wand_1"
            remove_on_death="1"
            collect_nondefault_actions="1"
            play_hover_animation="1" > <!--0 the wand turns around itself, 1 the wand floats in the air-->
        </ItemComponent>
    </Base>

    <Base file="data/entities/base_wand.xml"> </Base>  <!--play animation when wand is picked up-->
    <!-- <Base file="data/entities/base_wand_pickup.xml" > <LuaComponent _enabled="0" script_item_picked_up="" /> </Base> dont play anim-->

	<AbilityComponent
        _enabled="1"
        sprite_file="mods/DarkAtlas/files/wands/atlas_wand_1_gfx.xml"
        swim_propel_amount="0"
        ui_name="Atlas wand"
        drop_as_item_on_death="1"
        cooldown_frames="0"
        entity_count="1"
        reload_time_frames="0"
        mana_charge_speed="600"
        mana_max="50"
        use_gun_script="1">
        <gun_config 
            actions_per_round="1"
            shuffle_deck_when_empty="0"
            reload_time="10"
            deck_capacity="20" >
        </gun_config>
        <gunaction_config 
            spread_degrees="2" 
            fire_rate_wait="30" >
        </gunaction_config>
    </AbilityComponent>

	<!-- adjust hotspot to change where spells are fired from  -->
	<HotspotComponent 
        _tags="shoot_pos"
        offset.x="12"
        offset.y="-0.5" >
    </HotspotComponent>
	
    <LuaComponent
        _enabled="1"
        execute_on_added="1"
        remove_after_executed="1"
        script_source_file="mods/DarkAtlas/files/wands/atlas_wand_1_setup.lua"
        >
    </LuaComponent>

    <ManaReloaderComponent
        _tags="enabled_in_world,enabled_in_hand,enabled_in_inventory" >
    </ManaReloaderComponent>

    <!-- Adds pfx to the wand, Noita provides many options in the data/particles/ directory -->
    <SpriteParticleEmitterComponent
		sprite_file="data/particles/ray.xml" 
		delay="0"
		lifetime="1.5"
		color.r="1" color.g="1" color.b="1" color.a="0.5"
		color_change.r="0" color_change.g="0" color_change.b="0" color_change.a="-0.5"
		velocity.x="0" velocity.y="0"
		gravity.x="0" gravity.y="0"
		velocity_slowdown="0"
		rotation="0"
		angular_velocity="0"
		scale.x="1" scale.y="0"
		scale_velocity.x="-0.2" scale_velocity.y="4"
		emission_interval_min_frames="3"
		emission_interval_max_frames="6"
		emissive="1"
		additive="1"
		count_min="1" count_max="1"
		use_velocity_as_rotation="1"
		randomize_position.min_x="-5"
		randomize_position.max_x="5"
		randomize_position.min_y="-5"
		randomize_position.max_y="5"
		randomize_velocity.min_x="-30"
		randomize_velocity.max_x="30"
		randomize_velocity.min_y="-30"
		randomize_velocity.max_y="30"
		velocity_always_away_from_center="1">
	</SpriteParticleEmitterComponent>
    
</Entity>